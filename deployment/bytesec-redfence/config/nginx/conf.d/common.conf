server {
    listen 80;
    server_name uat.bytesec.co.in;
    
    # Redirect all HTTP requests to HTTPS
    location / {
        return 301 https://$host$request_uri;
    }
}

# uat.bytesec.co.in
server {
    listen 443 ssl;
    http2 on; # Enable HTTP/2 for better performance
    server_name uat.bytesec.co.in;
    
    ssl_certificate /etc/letsencrypt/bytesec.co.in.pem;
    ssl_certificate_key /etc/letsencrypt/bytesec.co.in.key;

    # SSL Best Practices (Optional but recommended)
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;

    # Gzip Compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    include /etc/nginx/conf.d/snippets/10-redfence.conf;
}

